!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("@mail/xray"));else if("function"==typeof define&&define.amd)define(["@mail/xray"],e);else{var n="object"==typeof exports?e(require("@mail/xray")):e(t["@mail/xray"]);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,function(n){return i={},o.m=r=[function(t,e,n){"use strict";var o=n(8),r=Object.prototype.toString;function i(t){return"[object Array]"===r.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function l(t){return"[object Function]"===r.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){var e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer;return e},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:a,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]=t}for(var e=0,o=arguments.length;e<o;e++)c(arguments[e],t);return r},deepMerge:function n(){var r={};function t(t,e){"object"==typeof r[e]&&"object"==typeof t?r[e]=n(r[e],t):r[e]="object"==typeof t?n({},t):t}for(var e=0,o=arguments.length;e<o;e++)c(arguments[e],t);return r},extend:function(n,t,r){return c(t,function(t,e){n[e]=r&&"function"==typeof t?o(t,r):t}),n},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";e.__esModule=!0,e.extend=s,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return i.test(t)?t.replace(o,a):t},e.isEmpty=function(t){return!t&&0!==t||!(!u(t)||0!==t.length)},e.createFrame=function(t){var e=s({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,i=/[&<>"'`=]/;function a(t){return r[t]}function s(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var l=Object.prototype.toString;e.toString=l;var c=function(t){return"function"==typeof t};c(/x/)&&(e.isFunction=c=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),e.isFunction=c;var u=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};e.isArray=u},function(t,e,n){"use strict";e.__esModule=!0;var c=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function u(t,e){var n=e&&e.loc,r=void 0,o=void 0,i=void 0,a=void 0;n&&(r=n.start.line,o=n.end.line,i=n.start.column,a=n.end.column,t+=" - "+r+":"+i);for(var s=Error.prototype.constructor.call(this,t),l=0;l<c.length;l++)this[c[l]]=s[c[l]];Error.captureStackTrace&&Error.captureStackTrace(this,u);try{n&&(this.lineNumber=r,this.endLineNumber=o,Object.defineProperty?(Object.defineProperty(this,"column",{value:i,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:a,enumerable:!0})):(this.column=i,this.endColumn=a))}catch(t){}}u.prototype=new Error,e.default=u,t.exports=e.default},function(t,e,n){!function(a){"use strict";var r=function(t,e){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]};return r(t,e)};function e(t,e){r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){o=Object.assign||function t(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))e[i]=n[i]}return e};return o.apply(this,arguments)};function i(t,a,n,s){function l(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(e,n){function r(t){try{i(s.next(t))}catch(t){n(t)}}function o(t){try{i(s["throw"](t))}catch(t){n(t)}}function i(t){t.done?e(t.value):l(t.value).then(r,o)}i((s=s.apply(t,a||[])).next())})}function l(t,n){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},o,i,a,e;return e={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(e[Symbol.iterator]=function(){return this}),e;function s(e){return function(t){return l([e,t])}}function l(e){if(o)throw new TypeError("Generator is already executing.");while(r)try{if(o=1,i&&(a=e[0]&2?i["return"]:e[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;if(i=0,a)e=[e[0]&2,a.value];switch(e[0]){case 0:case 1:a=e;break;case 4:r.label++;return{value:e[1],done:false};case 5:r.label++;i=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(a=r.trys,a=a.length>0&&a[a.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!a||e[1]>a[0]&&e[1]<a[3])){r.label=e[1];break}if(e[0]===6&&r.label<a[1]){r.label=a[1];a=e;break}if(a&&r.label<a[2]){r.label=a[2];r.ops.push(e);break}if(a[2])r.ops.pop();r.trys.pop();continue}e=n.call(t,r)}catch(t){e=[6,t];i=0}finally{o=a=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:true}}}function s(e){return Object.keys(e).filter(function(t){return e[t]!==undefined}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}var c={alwaysFireOnVisibilityChange:false},u={},f=0;function p(t){var e=Date.now();var n=Math.abs(e-u[t].lastCalledTs);clearTimeout(u[t].lastTimerId);if(n>=u[t].timeout||u[t].options.alwaysFireOnVisibilityChange){d(t);return}h(t,n)}function d(t){h(t);u[t].lastCalledTs=Date.now();u[t].callback()}function h(t,e){if(!u[t]){return}if(e===undefined){e=u[t].timeout}u[t].lastTimerId=setTimeout(function(){d(t)},e)}function m(t,e,n){n=o(o({},c),n);var r=f++;u[r]={options:n,callback:t,timeout:e,lastCalledTs:0};h(String(r));return r}function _(t){if(!u[t]){return}clearTimeout(u[t].lastTimerId);delete u[t]}function v(t,o){return new Promise(function(e,n){var r=setTimeout(function(){return n(new Error("Timeout"))},o);t.then(function(t){clearTimeout(r);e(t)}).catch(function(t){clearTimeout(r);n(t)})})}function y(t,e,n){for(var r=0;r<t.length;r++){e.call(n,t[r])}}function n(t,e){var n=t.indexOf(e);if(n!==-1){t.splice(n,1)}}function g(t,e){return t.indexOf(e)!==-1}function t(){this.listeners={}}function b(t){if(typeof t!=="string"){throw"eventName is not a string"}}function w(t){if(typeof t!=="function"){throw"listener is not a function"}}document.addEventListener("visibilitychange",function(){if(document.visibilityState!=="visible"){return}for(var t=0,e=Object.keys(u);t<e.length;t++){var n=e[t];p(n)}}),t.prototype.maxListeners=10,t.prototype.on=function(t,e){b(t);w(e);this.listeners[t]=this.listeners[t]||[];if(this.listeners[t].length>this.maxListeners){throw"Exceeded maxListeners - You might have a memory leak"}if(!g(this.listeners[t],e)){this.listeners[t].push(e);this.emit("on",{eventName:t,listener:e})}return this},t.prototype.emit=function(t,e){b(t);var n=Array.prototype.slice.call(arguments,1);y(this.listeners[t]||[],function(t){t.apply(this,n)},this);return this},t.prototype.off=function(t,e){b(t);w(e);n(this.listeners[t]||[],e);this.emit("off",{eventName:t,listener:e});return this},t.prototype.clearListeners=function(t){b(t);this.listeners[t]=null;return this};var x=t,C;function E(t){if(!t||typeof t!=="object"||typeof t.method!=="string"){throw new Error("Assertion failed: data is not MethodRequest")}}function O(t){if(!t||typeof t!=="object"||typeof t.id!=="number"||!t.result||typeof t.result!=="object"||typeof t.result.status!=="number"){throw new Error("Assertion failed: data is not MethodResponse")}}function k(e){return new Promise(function(t){return setTimeout(function(){return t()},e)})}(function(t){t["Subscribe"]="subscribe";t["Unsubscribe"]="unsubscribe";t["Keepalive"]="keepalive";t["Notice"]="notice";t["Shutdown"]="shutdown";t["Sync"]="sync"})(C||(C={})),function(t){t["Offline"]="offline";t["Connecting"]="connecting";t["Online"]="online";t["Disconnecting"]="disconnecting"}(a.ConnectionStatus||(a.ConnectionStatus={}));var S=function(){function t(t){var e=this;this._config=t;this._status=a.ConnectionStatus.Offline;this._activeRequests={};this._lastRequestId=1;this._emitter=new x;this._handleKeepalive=function(){if(e._lastKeepalivePromise){return}e._lastKeepalivePromise=e.call({method:C.Keepalive}).then(function(){e._lastKeepalivePromise=undefined}).catch(function(){return i(e,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this.disconnect()];case 1:t.sent();return[4,this.connect()];case 2:t.sent();this._lastKeepalivePromise=undefined;return[2]}})})})}}t.prototype.connect=function(o){if(o===void 0){o=this._config.reconnectAttempts}return i(this,void 0,void 0,function(){var e,n,r;return l(this,function(t){switch(t.label){case 0:e=Math.max(o,0)+1;n=0;t.label=1;case 1:if(!(n<e))return[3,8];if(!(n>0))return[3,3];return[4,k(this._config.intervals.reconnect)];case 2:t.sent();this._emitter.emit("reconnect",{total:e,current:n});t.label=3;case 3:this._setStatus(a.ConnectionStatus.Connecting);t.label=4;case 4:t.trys.push([4,6,,7]);return[4,this._tryConnect()];case 5:return[2,t.sent()];case 6:r=t.sent();this._emitter.emit("connectionerror",r);return[3,7];case 7:n++;return[3,1];case 8:return[2]}})})};t.prototype.disconnect=function(){var r=this;this._setStatus(a.ConnectionStatus.Disconnecting);if(!this._socket||this._socket.readyState===WebSocket.CLOSED){this._setStatus(a.ConnectionStatus.Offline);return Promise.resolve()}return new Promise(function(e){var n=Array.isArray(r._socket.onclose)?r._socket.onclose[0]:r._socket.onclose;r._socket.onclose=function(t){e();return typeof n==="function"?n.call(r._socket,t,{manual:true}):undefined};r._socket.close()})};t.prototype.call=function(e){var n=this;if(this._status!==a.ConnectionStatus.Online){throw new Error("Cannot call Notifier method: socket status is "+this._status)}e.id=this._lastRequestId++;var r=JSON.stringify(e);return v(new Promise(function(t){n._activeRequests[e.id]=t;n._socket.send(r)}),this._config.intervals.method).catch(function(t){delete n._activeRequests[e.id];return Promise.reject(t)})};t.prototype.on=function(t,e){this._emitter.on(t,e)};t.prototype.off=function(t,e){this._emitter.off(t,e)};Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:false,configurable:true});t.prototype._tryConnect=function(){var i=this;return new Promise(function(e,n){var t,r;var o=false;i._socket=new WebSocket(i._config.url+"?"+s({email:(t=i._config.auth)===null||t===void 0?void 0:t.email,token:(r=i._config.auth)===null||r===void 0?void 0:r.token}));i._socket.onopen=function(t){o=true;i._setStatus(a.ConnectionStatus.Online);i._emitter.emit("open");e()};i._socket.onmessage=function(t){var e;try{e=JSON.parse(t.data)}catch(t){i._emitter.emit("jsonerror",t);return}if(i._activeRequests[e.id]){try{O(e)}catch(t){i._emitter.emit("schemeerror",t);return}i._activeRequests[e.id](e);delete i._activeRequests[e.id];return}try{E(e)}catch(t){i._emitter.emit("schemeerror",t);return}i._emitter.emit("message",e)};i._socket.onclose=function(t,e){if(e===void 0){e={}}i._setStatus(a.ConnectionStatus.Offline);if(o){i._emitter.emit("close",t,e)}};i._socket.onerror=function(t){n(t)}})};t.prototype._setStatus=function(t){this._status=t;_(this._keepalivePid);if(t===a.ConnectionStatus.Online){this._keepalivePid=m(this._handleKeepalive,this._config.intervals.keepalive,{alwaysFireOnVisibilityChange:true})}this._emitter.emit("status")};return t}(),P;function T(t){E(t);var e=t.params;if(!e||typeof e!=="object"||typeof e.mode!=="string"){throw new Error("Assertion failed: data is not SyncRequest")}}function A(t){E(t);var e=t.params;if(!e||typeof e!=="object"||typeof e.system!=="number"||!Array.isArray(e.events)){throw new Error("Assertion failed: data is not NoticeRequest")}for(var n=0,r=e.events;n<r.length;n++){var o=r[n];if(!o||typeof o!=="object"||typeof o.code!=="number"){throw new Error("Assertion failed: data is not NoticeRequest")}}}(function(t){t["Once"]="once";t["Detached"]="detached";t["Attached"]="attached"})(P||(P={}));var I={url:undefined,intervals:{method:5e3,shutdown:1e4,keepalive:1e4,sync:3e4,reconnect:3e4},reconnectAttempts:10,xraySend:function(t,e){return{t:t,params:e}}};function R(t){if(t&&typeof t==="object"&&t.hasOwnProperty("target")){return}throw new Error("Assertion failed")}var M=function(r){e(t,r);function t(t,e){var n=r.call(this,"Failed to subscribe: "+t)||this;n.originalError=e;return n}return t}(Error),L=function(){function t(t){var r=this;this._emitter=new x;this._shouldReconnect=false;this._log=[];this._subscriptions=[];this._constructEvent=function(t,e){return t+"_"+e};this._onMessage=function(a){return i(r,void 0,void 0,function(){var e,n,r,o,i;return l(this,function(t){switch(t.label){case 0:this._emitter.emit("message",a);e=a.method;switch(e){case C.Shutdown:return[3,1];case C.Sync:return[3,5];case C.Notice:return[3,6]}return[3,7];case 1:return[4,this.close()];case 2:t.sent();return[4,k(this._config.intervals.shutdown)];case 3:t.sent();return[4,this.open()];case 4:t.sent();return[3,7];case 5:try{T(a)}catch(t){this._logAndRadar("notifier_error",["scheme"],t);this._emitter.emit("error",t);return[2]}switch(a.params.mode){case P.Once:this._handleSync();break;case P.Detached:_(this._syncPid);this._syncPid=m(this._handleSync,this._config.intervals.sync);break;case P.Attached:_(this._syncPid);this._handleSync();break}return[3,7];case 6:{try{A(a)}catch(t){this._logAndRadar("notifier_error",["scheme"],t);this._emitter.emit("error",t);return[2]}for(n=0,r=a.params.events;n<r.length;n++){o=r[n];i=void 0;try{i=JSON.parse(decodeURIComponent(escape(atob(o.data))))}catch(t){this._logAndRadar("notifier_error",["scheme"],t);this._emitter.emit("error",t);return[2]}this._emitter.emit(this._constructEvent(a.params.system,o.code),i)}return[3,7]}case 7:return[2]}})})};this._handleSync=function(){r._emitter.emit("sync")};this._detailsFromError=function(t){return{name:t.name,message:t.message,stack:t.stack}};this._detailsFromErrorEvent=function(t){if(t.error){return r._detailsFromError(t.error)}return{type:t.type,message:t.message,filename:t.filename,colno:t.colno,lineno:t.lineno}};this._config=o(o(o({},I),t),{intervals:o(o({},I.intervals),t.intervals)});var e=this._config.intervals.method+100;if(this._config.intervals.keepalive<e){this._config.intervals.keepalive=e}this._conn=new S(this._config);this._conn.on("message",this._onMessage);this._conn.on("status",function(){r._writeLog("status",[r.status]);r._emitter.emit("status")});this._conn.on("connectionerror",function(t){r._logAndRadar("notifier_error",["connection"],t);r._emitter.emit("error",t)});this._conn.on("jsonerror",function(t){r._logAndRadar("notifier_error",["json"],t);r._emitter.emit("error",t)});this._conn.on("schemeerror",function(t){r._logAndRadar("notifier_error",["scheme"],t);r._emitter.emit("error",t)});this._conn.on("open",function(){return i(r,void 0,void 0,function(){var e,n,r,o,i,a,s;return l(this,function(t){switch(t.label){case 0:this._logAndRadar("notifier_open");e=this._subscriptions;this._subscriptions=[];n=0,r=e;t.label=1;case 1:if(!(n<r.length))return[3,6];o=r[n];t.label=2;case 2:t.trys.push([2,4,,5]);return[4,this.subscribe(o.system,o.event,o.handler)];case 3:t.sent();return[3,5];case 4:i=t.sent();a=this._constructEvent(o.system,o.event);s=new M(a,i);this._logAndRadar("notifier_error",["resubscribe"],s);this._emitter.emit("error",s);return[3,5];case 5:n++;return[3,1];case 6:return[2]}})})});this._conn.on("reconnect",function(t){r._logAndRadar("notifier_reconnect",["reason_error","attempt_"+t.current],t)});this._conn.on("close",function(e,n){return i(r,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:this._logAndRadar("notifier_close",["code_"+e.code]);if(!(!n.manual&&this._shouldReconnect&&this._config.reconnectAttempts>0))return[3,3];this._logAndRadar("notifier_reconnect",["reason_close"]);this._shouldReconnect=false;return[4,k(this._config.intervals.reconnect)];case 1:t.sent();return[4,this._conn.connect(this._config.reconnectAttempts-1)];case 2:t.sent();t.label=3;case 3:return[2]}})})})}t.prototype.open=function(){var t=this;this._writeLog("open()",undefined);this._shouldReconnect=true;switch(this._conn.status){case a.ConnectionStatus.Offline:this._lastPromise=this._conn.connect();break;case a.ConnectionStatus.Connecting:break;case a.ConnectionStatus.Online:this._lastPromise=Promise.resolve();break;case a.ConnectionStatus.Disconnecting:this._lastPromise=this._lastPromise.then(function(){return t._conn.connect()});break}return this._lastPromise};t.prototype.close=function(){var t=this;this._writeLog("close()",undefined);this._subscriptions=[];this._shouldReconnect=false;switch(this._conn.status){case a.ConnectionStatus.Offline:this._lastPromise=Promise.resolve();break;case a.ConnectionStatus.Connecting:this._lastPromise=this._lastPromise.then(function(){return t._conn.disconnect()});break;case a.ConnectionStatus.Online:this._lastPromise=this._conn.disconnect();break;case a.ConnectionStatus.Disconnecting:break}this._lastPromise=this._lastPromise.catch(function(){});return this._lastPromise};t.prototype.subscribe=function(e,n,r){var o=this;return this._waitForOnline().then(function(){return o._conn.call({method:C.Subscribe,params:{system:e,event:n}})}).then(function(t){if(t.result.status!==200){throw t}o._subscriptions.push({system:e,event:n,handler:r});o._emitter.on(o._constructEvent(e,n),r)})};t.prototype.unsubscribe=function(e,n,r){var o=this;return this._waitForOnline().then(function(){return o._conn.call({method:C.Unsubscribe,params:{system:e,event:n}})}).then(function(t){if(t.result.status!==200){throw t}o._subscriptions=o._subscriptions.filter(function(t){return t.handler!==r||t.event!==n||t.system!==e});o._emitter.off(o._constructEvent(e,n),r)})};t.prototype.on=function(t,e){this._emitter.on(t,e)};t.prototype.off=function(t,e){this._emitter.off(t,e)};Object.defineProperty(t.prototype,"status",{get:function(){return this._conn.status},enumerable:false,configurable:true});Object.defineProperty(t.prototype,"log",{get:function(){return this._log},enumerable:false,configurable:true});t.prototype._waitForOnline=function(){var t=this;if(!this._lastPromise){return Promise.reject(new Error("Cannot call remote method: connection is "+this._conn.status))}return this._lastPromise.then(function(){if(t._conn.status!==a.ConnectionStatus.Online){throw new Error("Cannot subscribe: connection is "+t._conn.status)}})};t.prototype._logAndRadar=function(t,e,n){if(e){this._config.xraySend.call(null,t,{i:e})}else{this._config.xraySend.call(null,t)}this._writeLog(t,e,n)};t.prototype._writeLog=function(t,e,n){var r;try{R(n);r=this._detailsFromErrorEvent(n)}catch(t){if(n instanceof Error){r=this._detailsFromError(n)}else{r=n}}this._log.push([new Date,t,e,r].filter(function(t){return t!==undefined}))};return t}();function j(t){return new L(t)}(function(t){t[t["Storage"]=1]="Storage";t[t["Calls"]=6]="Calls"})(a.NotifierSystem||(a.NotifierSystem={})),function(t){t[t["MBoxChange"]=1]="MBoxChange";t[t["MessageInsert"]=2]="MessageInsert";t[t["MessageUpdate"]=3]="MessageUpdate";t[t["MessageDelete"]=4]="MessageDelete";t[t["FolderInsert"]=5]="FolderInsert";t[t["FolderUpdate"]=6]="FolderUpdate";t[t["FolderDelete"]=7]="FolderDelete";t[t["AttachInsert"]=8]="AttachInsert";t[t["AttachUpdate"]=9]="AttachUpdate";t[t["AttachDelete"]=10]="AttachDelete";t[t["ThreadOrderInsert"]=11]="ThreadOrderInsert";t[t["ThreadOrderUpdate"]=12]="ThreadOrderUpdate";t[t["ThreadOrderDelete"]=13]="ThreadOrderDelete";t[t["MBoxDelete"]=14]="MBoxDelete"}(a.StorageEventCode||(a.StorageEventCode={})),function(t){t[t["Invite"]=1]="Invite";t[t["Cancel"]=2]="Cancel"}(a.CallsEventCode||(a.CallsEventCode={})),function(t){t["Anonymous"]="anonymous";t["Authorized"]="authorized"}(a.CallsUserType||(a.CallsUserType={})),function(t){t["Accept"]="accept";t["Decline"]="decline";t["Cancel"]="cancel"}(a.CallsCancelReason||(a.CallsCancelReason={})),a.createNotifierClient=j,Object.defineProperty(a,"__esModule",{value:true})}(e)},function(t,e,n){t.exports=n(25)},function(t,e,n){"use strict";var a=n(0);function s(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var r,o,i=n?n(e):a.isURLSearchParams(e)?e.toString():(r=[],a.forEach(e,function(t,e){null!=t&&(a.isArray(t)?e+="[]":t=[t],a.forEach(t,function(t){a.isDate(t)?t=t.toISOString():a.isObject(t)&&(t=JSON.stringify(t)),r.push(s(e)+"="+s(t))}))}),r.join("&"));return i&&(-1!==(o=t.indexOf("#"))&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(4))&&r.__esModule?r:{default:r},i=n(7),a=n(42);var s=o.default.create({baseURL:"/api/v1/",timeout:3e4,xsrfCookieName:"callsapi_csrf",xsrfHeaderName:"X-CSRF-Token"});(0,a.addNoSdcHandler)(s),(0,i.addInvalidCsrfHandler)(s),e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateCSRF=l,e.addInvalidCsrfHandler=function(i){i.interceptors.response.use(null,function(t){var e,n,r,o;return t.config&&(null===(e=t.response)||void 0===e?void 0:e.status)===s.FORBIDDEN&&"csrf_invalid"===(null===(o=null===(r=null===(n=t.response)||void 0===n?void 0:n.data)||void 0===r?void 0:r.fields)||void 0===o?void 0:o.reason)?l(i).then(function(){return a.default.request(t.config)}):Promise.reject(t)})};var r,a=i(n(4)),s=n(15),o=i(n(16));function i(t){return t&&t.__esModule?t:{default:t}}function l(t){return r||(r=t.request({url:(0,o.default)().csrfUrl}).then(function(){r=null},function(t){throw r=null,t}))}},function(t,e,n){"use strict";t.exports=function(n,r){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return n.apply(r,t)}}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(s,t,l){"use strict";(function(t){var n=l(0),r=l(31),e={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i,a={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(i=l(11)),i),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){a.headers[t]={}}),n.forEach(["post","put","patch"],function(t){a.headers[t]=n.merge(e)}),s.exports=a}).call(this,l(30))},function(t,e,f){"use strict";var p=f(0),d=f(32),h=f(5),m=f(34),_=f(37),v=f(38),y=f(12);t.exports=function(u){return new Promise(function(n,r){var o=u.data,i=u.headers;p.isFormData(o)&&delete i["Content-Type"];var t,e,a=new XMLHttpRequest;u.auth&&(t=u.auth.username||"",e=u.auth.password||"",i.Authorization="Basic "+btoa(t+":"+e));var s,l,c=m(u.baseURL,u.url);if(a.open(u.method.toUpperCase(),h(c,u.params,u.paramsSerializer),!0),a.timeout=u.timeout,a.onreadystatechange=function(){var t,e;a&&4===a.readyState&&(0!==a.status||a.responseURL&&0===a.responseURL.indexOf("file:"))&&(t="getAllResponseHeaders"in a?_(a.getAllResponseHeaders()):null,e={data:u.responseType&&"text"!==u.responseType?a.response:a.responseText,status:a.status,statusText:a.statusText,headers:t,config:u,request:a},d(n,r,e),a=null)},a.onabort=function(){a&&(r(y("Request aborted",u,"ECONNABORTED",a)),a=null)},a.onerror=function(){r(y("Network Error",u,null,a)),a=null},a.ontimeout=function(){var t="timeout of "+u.timeout+"ms exceeded";u.timeoutErrorMessage&&(t=u.timeoutErrorMessage),r(y(t,u,"ECONNABORTED",a)),a=null},p.isStandardBrowserEnv()&&(s=f(39),(l=(u.withCredentials||v(c))&&u.xsrfCookieName?s.read(u.xsrfCookieName):void 0)&&(i[u.xsrfHeaderName]=l)),"setRequestHeader"in a&&p.forEach(i,function(t,e){void 0===o&&"content-type"===e.toLowerCase()?delete i[e]:a.setRequestHeader(e,t)}),p.isUndefined(u.withCredentials)||(a.withCredentials=!!u.withCredentials),u.responseType)try{a.responseType=u.responseType}catch(t){if("json"!==u.responseType)throw t}"function"==typeof u.onDownloadProgress&&a.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&a.upload&&a.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(t){a&&(a.abort(),r(t),a=null)}),void 0===o&&(o=null),a.send(o)})}},function(t,e,n){"use strict";var a=n(33);t.exports=function(t,e,n,r,o){var i=new Error(t);return a(i,e,n,r,o)}},function(t,e,n){"use strict";var l=n(0);t.exports=function(e,n){n=n||{};var r={},t=["url","method","params","data"],o=["headers","auth","proxy"],i=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];l.forEach(t,function(t){void 0!==n[t]&&(r[t]=n[t])}),l.forEach(o,function(t){l.isObject(n[t])?r[t]=l.deepMerge(e[t],n[t]):void 0!==n[t]?r[t]=n[t]:l.isObject(e[t])?r[t]=l.deepMerge(e[t]):void 0!==e[t]&&(r[t]=e[t])}),l.forEach(i,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])});var a=t.concat(o).concat(i),s=Object.keys(n).filter(function(t){return-1===a.indexOf(t)});return l.forEach(s,function(t){void 0!==n[t]?r[t]=n[t]:void 0!==e[t]&&(r[t]=e[t])}),r}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){var n={};n[e.ACCEPTED=202]="Accepted",n[e.BAD_GATEWAY=502]="Bad Gateway",n[e.BAD_REQUEST=400]="Bad Request",n[e.CONFLICT=409]="Conflict",n[e.CONTINUE=100]="Continue",n[e.CREATED=201]="Created",n[e.EXPECTATION_FAILED=417]="Expectation Failed",n[e.FAILED_DEPENDENCY=424]="Failed Dependency",n[e.FORBIDDEN=403]="Forbidden",n[e.GATEWAY_TIMEOUT=504]="Gateway Timeout",n[e.GONE=410]="Gone",n[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP Version Not Supported",n[e.IM_A_TEAPOT=418]="I'm a teapot",n[e.INSUFFICIENT_SPACE_ON_RESOURCE=419]="Insufficient Space on Resource",n[e.INSUFFICIENT_STORAGE=507]="Insufficient Storage",n[e.INTERNAL_SERVER_ERROR=500]="Server Error",n[e.LENGTH_REQUIRED=411]="Length Required",n[e.LOCKED=423]="Locked",n[e.METHOD_FAILURE=420]="Method Failure",n[e.METHOD_NOT_ALLOWED=405]="Method Not Allowed",n[e.MOVED_PERMANENTLY=301]="Moved Permanently",n[e.MOVED_TEMPORARILY=302]="Moved Temporarily",n[e.MULTI_STATUS=207]="Multi-Status",n[e.MULTIPLE_CHOICES=300]="Multiple Choices",n[e.NETWORK_AUTHENTICATION_REQUIRED=511]="Network Authentication Required",n[e.NO_CONTENT=204]="No Content",n[e.NON_AUTHORITATIVE_INFORMATION=203]="Non Authoritative Information",n[e.NOT_ACCEPTABLE=406]="Not Acceptable",n[e.NOT_FOUND=404]="Not Found",n[e.NOT_IMPLEMENTED=501]="Not Implemented",n[e.NOT_MODIFIED=304]="Not Modified",n[e.OK=200]="OK",n[e.PARTIAL_CONTENT=206]="Partial Content",n[e.PAYMENT_REQUIRED=402]="Payment Required",n[e.PERMANENT_REDIRECT=308]="Permanent Redirect",n[e.PRECONDITION_FAILED=412]="Precondition Failed",n[e.PRECONDITION_REQUIRED=428]="Precondition Required",n[e.PROCESSING=102]="Processing",n[e.PROXY_AUTHENTICATION_REQUIRED=407]="Proxy Authentication Required",n[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="Request Header Fields Too Large",n[e.REQUEST_TIMEOUT=408]="Request Timeout",n[e.REQUEST_TOO_LONG=413]="Request Entity Too Large",n[e.REQUEST_URI_TOO_LONG=414]="Request-URI Too Long",n[e.REQUESTED_RANGE_NOT_SATISFIABLE=416]="Requested Range Not Satisfiable",n[e.RESET_CONTENT=205]="Reset Content",n[e.SEE_OTHER=303]="See Other",n[e.SERVICE_UNAVAILABLE=503]="Service Unavailable",n[e.SWITCHING_PROTOCOLS=101]="Switching Protocols",n[e.TEMPORARY_REDIRECT=307]="Temporary Redirect",n[e.TOO_MANY_REQUESTS=429]="Too Many Requests",n[e.UNAUTHORIZED=401]="Unauthorized",n[e.UNPROCESSABLE_ENTITY=422]="Unprocessable Entity",n[e.UNSUPPORTED_MEDIA_TYPE=415]="Unsupported Media Type",n[e.USE_PROXY=305]="Use Proxy",e.getStatusText=function(t){if(n.hasOwnProperty(t))return n[t];throw new Error("Status code does not exist: "+t)},e.getStatusCode=function(t){for(key in n)if(n[key]===t)return parseInt(key,10);throw new Error("Reason phrase does not exist: "+t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setConfig=function(t){Object.assign(r,t)},e.default=function(){return r};var r={baseUrl:"https://"+window.location.host+"/api/v1/",sdcUrl:"https://auth.mail.ru/sdc",csrfUrl:"/token",authAnonymUrl:"/session/anonymous",referrer:String(window.document.referrer)||void 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Model=void 0;var r,o=(r=n(50))&&r.__esModule?r:{default:r};var i=(a.prototype.on=function(t,e){this._emitter.on(t,e)},a.prototype.off=function(t,e){this._emitter.off(t,e)},a);function a(){this._emitter=new o.default}e.Model=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=f;var o=n(1),i=r(n(2)),a=n(19),s=n(67),l=r(n(21)),c=n(22);e.VERSION="4.7.6";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var u="[object Object]";function f(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}f.prototype={constructor:f,logger:l.default,log:l.default.log,registerHelper:function(t,e){if(o.toString.call(t)===u){if(e)throw new i.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===u)o.extend(this.partials,t);else{if(void 0===e)throw new i.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===u){if(e)throw new i.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var p=l.default.log;e.log=p,e.createFrame=o.createFrame,e.logger=l.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),i.default(t),a.default(t),s.default(t),l.default(t),c.default(t),u.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var o=r(n(60)),i=r(n(61)),a=r(n(62)),s=r(n(63)),l=r(n(64)),c=r(n(65)),u=r(n(66))},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";e.__esModule=!0;var r=n(1),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){var e;return"string"==typeof t&&(t=0<=(e=r.indexOf(i.methodMap,t.toLowerCase()))?e:parseInt(t,10)),t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return a("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(i).forEach(function(t){delete i[t]})};var r=n(69),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(21)),i=Object.create(null);function a(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(!0!==i[n=e]&&(i[n]=!0,o.log("error",'Handlebars: Access has been denied to resolve the property "'+n+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details')),!1);var n}},function(t,e,n){"use strict";var r,a=n(24),o=n(3),i=n(7),s=(r=n(6))&&r.__esModule?r:{default:r},l=n(46),c=n(49),u=n(51),f=n(52),p=n(54),d=n(55);var h=function(t,a,s,l){return new(s=s||Promise)(function(n,e){function r(t){try{i(l.next(t))}catch(t){e(t)}}function o(t){try{i(l.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,o)}i((l=l.apply(t,a||[])).next())})},m=function(n,r){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},_=JSON.parse(__p2pConfig__.textContent);s.default.defaults.headers.common["X-Email"]=_.activeEmail;var v=(0,o.createNotifierClient)({url:_.notifier.url,auth:{email:_.activeEmail,token:""},intervals:{keepalive:_.notifier.keepalive},xraySend:window.xray.send.bind(window.xray)});v.on("error",function(t){window.xray.send("p2p_notifier_error",{rlog:"calls_p2p_notifier",rlog_message:{error:t}})}),window.__notifierClient__=v;var y=new c.IncomingCallQueue(_.queue),g=new l.FrameLock("p2p-ringtone");y.on("request",function(e){window.xray.send("p2p_notify_show");var t=new d.IncomingCall({target:document.getElementById("root"),request:e,logoImageUrl:_.logoImageUrl,activeEmail:_.activeEmail}),n=t.el.getBoundingClientRect();(0,p.postMessageP2P)({type:a.IframeMessageType.Show,protocol:"calls.mail.ru",width:n.width,height:n.height,backgroundColor:"#303030",borderRadius:"12px"});function r(){i=!0,o.destroy(),g.unlock(),(0,p.postMessageP2P)({type:a.IframeMessageType.Hide,protocol:"calls.mail.ru"}),t.destroy()}var o=new f.AudioPlayer(_.ringtoneUrl,{autoplay:!1,loop:!0}),i=!1;e.on("accept",function(){r()}),e.on("decline",function(){r()}),e.startProcessing(),f.AudioPlayer.canAutoplay().then(function(t){window.xray.send("p2p_autoplay",{i:[t?"true":"false"]}),t&&g.tryLock(e.room_id,function(){i||(o.play(),e.notifyReceived())})})}),window.addEventListener("unload",function(){g.unlock()}),function(){return h(this,void 0,void 0,function(){return m(this,function(t){switch(t.label){case 0:return[4,(0,i.updateCSRF)(s.default)];case 1:return t.sent(),[4,v.open()];case 2:return t.sent(),[4,v.subscribe(o.NotifierSystem.Calls,o.CallsEventCode.Invite,function(t){var e=new u.IncomingCallRequest(t);y.enqueue(e)})];case 3:return t.sent(),[4,v.subscribe(o.NotifierSystem.Calls,o.CallsEventCode.Cancel,function(e){var t=y.find(function(t){return t.room_id===e.room_id});t&&y.remove(t)})];case 4:return t.sent(),(0,p.postMessageP2P)({type:a.IframeMessageType.Loaded,protocol:"calls.mail.ru"}),[2]}})})}().catch(function(t){window.xray.send("p2p_main-error",{rlog:"p2p_main-error",rlog_message:{error:t}})})},function(t,e,n){!function(o){"use strict";var e=function(){e=Object.assign||function t(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))e[i]=n[i]}return e};return e.apply(this,arguments)},n={callBaseUrl:"https://calls.mail.ru",email:undefined,incomingCalls:false,iframeTimeout:30*1e3,iframeReloadAttempts:3,xraySend:function(t,e){return{t:t,params:e}}};function r(t){if(Array.isArray(t)){return t.map(function(t){return r(t)}).join(",")}return encodeURIComponent(t)}function i(e){return Object.keys(e).filter(function(t){return e[t]!==undefined}).map(function(t){return encodeURIComponent(t)+"="+r(e[t])}).join("&")}function a(t){return t&&typeof t==="object"}function s(t){if(a(t)&&typeof t.type==="string"&&t.protocol==="calls.mail.ru"){return}throw new Error("Assertion error: message is not Message")}function l(t){s(t);if(Object.values(o.IframeMessageType).indexOf(t.type)>-1){return}throw new Error("Assertion error: message is not IframeMessage")}function c(t){l(t);if(t.type===o.IframeMessageType.Show&&typeof t.width==="number"&&typeof t.height==="number"){return}throw new Error("Assertion error: message is not IframeShowMessage")}function u(t,e,n){for(var r=0;r<t.length;r++){e.call(n,t[r])}}function f(t,e){var n=t.indexOf(e);if(n!==-1){t.splice(n,1)}}function p(t,e){return t.indexOf(e)!==-1}function t(){this.listeners={}}function d(t){if(typeof t!=="string"){throw"eventName is not a string"}}function h(t){if(typeof t!=="function"){throw"listener is not a function"}}(function(t){t["Loaded"]="loaded";t["Show"]="show";t["Hide"]="hide"})(o.IframeMessageType||(o.IframeMessageType={})),t.prototype.maxListeners=10,t.prototype.on=function(t,e){d(t);h(e);this.listeners[t]=this.listeners[t]||[];if(this.listeners[t].length>this.maxListeners){throw"Exceeded maxListeners - You might have a memory leak"}if(!p(this.listeners[t],e)){this.listeners[t].push(e);this.emit("on",{eventName:t,listener:e})}return this},t.prototype.emit=function(t,e){d(t);var n=Array.prototype.slice.call(arguments,1);u(this.listeners[t]||[],function(t){t.apply(this,n)},this);return this},t.prototype.off=function(t,e){d(t);h(e);f(this.listeners[t]||[],e);this.emit("off",{eventName:t,listener:e});return this},t.prototype.clearListeners=function(t){d(t);this.listeners[t]=null;return this};var m=t,_=function(){function t(t){var r=this;this._emitter=new m;this._attemptsLeft=0;this._attempt=1;this._lastShowTs=0;this._handleMessage=function(t){try{var e=JSON.parse(t.data);l(e);var n=void 0;switch(e.type){case o.IframeMessageType.Loaded:clearTimeout(r._loadPid);break;case o.IframeMessageType.Show:c(e);r._lastShowTs=Date.now();r._showIframe(e);break;case o.IframeMessageType.Hide:n={i:{view_time:Math.round((Date.now()-r._lastShowTs)/1e3)}};r._hideIframe();break}if(n){r._config.xraySend("calls-api_iframe_"+e.type,n)}else{r._config.xraySend("calls-api_iframe_"+e.type)}}catch(t){r._emitter.emit("error",t)}};this._handleLoadTimeout=function(){r._config.xraySend("calls-api_iframe_timeout",{i:["attempt_"+r._attempt]});r._attempt++;r._attemptsLeft--;if(r._attemptsLeft>0){r._destroyIframe();r._createIframe()}else{r._emitter.emit("error",new Error("TimeoutError: calls.mail.ru didn't load in "+r._config.iframeReloadAttempts+" attempts"));r._config.xraySend("calls-api_iframe_fail")}};this._config=e(e({},n),t);if(this._config.incomingCalls){this._config.xraySend("calls-api_iframe_create");this._attemptsLeft=this._config.iframeReloadAttempts;this._createIframe();window.addEventListener("message",this._handleMessage)}}t.prototype.on=function(t,e){this._emitter.on(t,e)};t.prototype.off=function(t,e){this._emitter.off(t,e)};t.prototype.canCallTo=function(t){var e=this;return t.map(function(t){return{email:t,canCall:t!==e._config.email&&/@(mail\.ru|mail\.ua|inbox\.ru|list\.ru|bk\.ru|corp\.mail\.ru)$/i.test(t)}})};t.prototype.callTo=function(t){return Promise.resolve({redirectUrl:this._config.callBaseUrl+"/call/?"+i({to:t})})};t.prototype.destroy=function(){if(this._config.incomingCalls){clearTimeout(this._loadPid);window.removeEventListener("message",this._handleMessage);this._destroyIframe()}};t.prototype._destroyIframe=function(){var t,e;(e=(t=this._iframe)===null||t===void 0?void 0:t.parentNode)===null||e===void 0?void 0:e.removeChild(this._iframe);this._iframe=undefined};t.prototype._createIframe=function(){this._iframe=document.createElement("IFRAME");this._iframe.setAttribute("scrolling","no");this._iframe.setAttribute("allow","autoplay");this._iframe.setAttribute("sandbox","allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox");this._iframe.src=this._config.callBaseUrl+"/embed/p2p/?"+i({email:this._config.email});this._iframe.style.position="fixed";this._iframe.style.border="none";this._iframe.style.zIndex="1000000";this._hideIframe();document.body.insertAdjacentElement("afterbegin",this._iframe);this._loadPid=setTimeout(this._handleLoadTimeout,this._config.iframeTimeout)};t.prototype._showIframe=function(t){this._iframe.style.right="8px";this._iframe.style.top="64px";this._iframe.style.width=t.width+"px";this._iframe.style.height=t.height+"px";this._iframe.style.backgroundColor=t.backgroundColor;this._iframe.style.borderRadius=t.borderRadius};t.prototype._hideIframe=function(){this._iframe.style.right="0px";this._iframe.style.top="0px";this._iframe.style.width="0px";this._iframe.style.height="0px"};return t}();function v(t){return new _(t)}o.CallsAPIClient=_,o.assertIframeMessage=l,o.assertIframeShowMessage=c,o.assertMessage=s,o.createCallsAPIClient=v,Object.defineProperty(o,"__esModule",{value:true})}(e)},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(26),a=n(13);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var l=s(n(10));l.Axios=i,l.create=function(t){return s(a(l.defaults,t))},l.Cancel=n(14),l.CancelToken=n(40),l.isCancel=n(9),l.all=function(t){return Promise.all(t)},l.spread=n(41),t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var o=n(0),r=n(5),i=n(27),a=n(28),s=n(13);function l(t){this.defaults=t,this.interceptors={request:new i,response:new i}}l.prototype.request=function(t,e){"string"==typeof t?(t=e||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){n.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){n.push(t.fulfilled,t.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},l.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],function(n){l.prototype[n]=function(t,e){return this.request(o.merge(e||{},{method:n,url:t}))}}),o.forEach(["post","put","patch"],function(r){l.prototype[r]=function(t,e,n){return this.request(o.merge(n||{},{method:r,url:t,data:e}))}}),t.exports=l},function(t,e,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},t.exports=o},function(t,e,n){"use strict";var r=n(0),o=n(29),i=n(9),a=n(10);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(e){return s(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return s(e),t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(t,e,n){"use strict";var r=n(0);t.exports=function(e,n,t){return r.forEach(t,function(t){e=t(e,n)}),e}},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,f=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&d())}function d(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";var o=n(0);t.exports=function(n,r){o.forEach(n,function(t,e){e!==r&&e.toUpperCase()===r.toUpperCase()&&(n[r]=t,delete n[e])})}},function(t,e,n){"use strict";var o=n(12);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(o("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(35),o=n(36);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(0),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,r,o={};return t&&i.forEach(t.split("\n"),function(t){if(r=t.indexOf(":"),e=i.trim(t.substr(0,r)).toLowerCase(),n=i.trim(t.substr(r+1)),e){if(o[e]&&0<=a.indexOf(e))return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}}),o}},function(t,e,n){"use strict";var r,o,i,a=n(0);function s(t){var e=t;return o&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}t.exports=a.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r=s(window.location.href),function(t){var e=a.isString(t)?s(t):t;return e.protocol===r.protocol&&e.host===r.host}):function(){return!0}},function(t,e,n){"use strict";var s=n(0);t.exports=s.isStandardBrowserEnv()?{write:function(t,e,n,r,o,i){var a=[];a.push(t+"="+encodeURIComponent(e)),s.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),s.isString(r)&&a.push("path="+r),s.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(14);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o(function(t){e=t}),cancel:e}},t.exports=o},function(t,e,n){"use strict";t.exports=function(e){return function(t){return e.apply(null,t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.addNoSdcHandler=function(i){i.interceptors.response.use(null,function(t){var e,n,r,o;return t.config&&(null===(e=t.response)||void 0===e?void 0:e.status)===l.UNAUTHORIZED&&"no_sdc"===(null===(o=null===(r=null===(n=t.response)||void 0===n?void 0:n.data)||void 0===r?void 0:r.fields)||void 0===o?void 0:o.reason)?function(t,e){if(a)return a;return a=t.request({url:(0,c.default)().sdcUrl,adapter:u.default,params:{from:(0,f.default)(e.config.url)}}).then(function(){a=null},function(t){throw a=null,t})}(i,t.response).then(function(){return s.default.request(t.config)}):Promise.reject(t)})};var a,s=r(n(4)),l=n(15),c=r(n(16)),u=r(n(43)),f=r(n(45));function r(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(s){if(s.url)return new Promise(function(e,n){var r=window,t=document.createElement("script");t.async=!0;var o=Object.assign({},s.params||{}),i="axiosJsonpCallback"+(0,c.default)("")+"_"+u++;function a(){t&&(t.onload=null,t.parentNode&&t.parentNode.removeChild(t),t=null),delete r[i]}r[i]=function(t){delete r[i],e({data:t,status:200,statusText:"OK",config:s,headers:{}})},o._=(new Date).getTime(),o[s.jsonp||"callback"]=i,t.onload=a,t.onerror=function(t){a(),n(t)},t.src=(0,l.default)(s.url,o),document.head.appendChild(t)});throw new Error("Необходимо указать url запроса")};var l=r(n(5)),c=r(n(44));function r(t){return t&&t.__esModule?t:{default:t}}var u=1},function(t,e,n){"use strict";function r(){return Math.floor(65536*Math.random()).toString(16)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){void 0===t&&(t="-");return r()+r()+t+r()+t+r()+t+r()+t+r()+r()+r()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(document){var e=document.createElement("a");return e.href=t,e.href}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrameLock=void 0;var r=i(n(47)),o=i(n(48));function i(t){return t&&t.__esModule?t:{default:t}}var a=Math.floor(2500),s=(Object.defineProperty(l.prototype,"_storageKey",{get:function(){return"p2plock_"+this._name+"_"+this._key},enumerable:!1,configurable:!0}),l.prototype.tryLock=function(t,e){var n=this;this._locked||(this._key=t,this._mutex.lock().then(function(){var t=Date.now();return n._isLockActive(n._storageKey)||(n._locked=!0,window.localStorage.setItem(n._storageKey,String(t)),n._lockRefreshPid=setInterval(function(){window.localStorage.setItem(n._storageKey,String(Date.now()))},a),e()),n._mutex.unlock()}).catch(function(t){o.default.send("p2p_lock-mutex-error",{rlog:"p2p_lock-mutex-error",rlog_message:{error:t}})}))},l.prototype.unlock=function(){if(clearInterval(this._lockRefreshPid),this._locked){this._locked=!1;try{window.localStorage.removeItem(this._storageKey)}catch(t){}}this._key=void 0},l);function l(t){var n=this;this._name=t,this._locked=!1,this._isLockActive=function(t){var e=Date.now(),n=parseInt(String(window.localStorage.getItem(t)),10);return!(5e3<=e-n||Number.isNaN(n))},this._cleanup=function(){try{for(var t=0;t<window.localStorage.length;t++)try{var e=String(window.localStorage.key(t));e.startsWith("p2plock_")&&!n._isLockActive(e)&&window.localStorage.removeItem(e)}catch(t){}}catch(t){}};try{this._mutex=new r.default(name)}catch(t){o.default.send("p2p_new-mutex-error",{rlog:"p2p_new-mutex-error",rlog_message:{error:t}})}this._cleanup()}e.FrameLock=s},function(t,r,e){"use strict";var n=this&&this.__awaiter||function(i,a,s,l){return new(s=s||Promise)(function(t,e){function n(t){try{o(l.next(t))}catch(t){e(t)}}function r(t){try{o(l.throw(t))}catch(t){e(t)}}function o(e){e.done?t(e.value):new s(function(t){t(e.value)}).then(n,r)}o((l=l.apply(i,a||[])).next())})},i=this&&this.__generator||function(n,r){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=i[2&e[0]?"return":e[0]?"throw":"next"])&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[0,a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_EXPIRY=1e4;var o=(a.prototype.lock=function(){return n(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,this._tryLock()];case 1:return t.sent()?[3,3]:[4,(e=this._spinDelay,new Promise(function(t){return setTimeout(t,e)}))];case 2:return t.sent(),[3,0];case 3:return[2]}var e})})},a.prototype.unlock=function(){return n(this,void 0,void 0,function(){var e,n,r,o;return i(this,function(t){switch(t.label){case 0:return[4,this._db];case 1:return e=t.sent(),n=e.transaction(this._objectStoreName,"readwrite"),r=n.objectStore(this._objectStoreName),o=r.put({expiresAt:0,owner:null},this._name),[2,new Promise(function(t,e){o.onsuccess=function(){return t()},o.onerror=function(){return e(o.error)}})]}})})},a.prototype._initDb=function(r){return new Promise(function(t,e){var n=indexedDB.open("idb-mutex",1);n.onupgradeneeded=function(){n.result.createObjectStore(r)},n.onsuccess=function(){return t(n.result)},n.onerror=function(){return e(n.error)}})},a.prototype._tryLock=function(){return n(this,void 0,void 0,function(){var e,n,a,s=this;return i(this,function(t){switch(t.label){case 0:return[4,this._db];case 1:return e=t.sent(),n=e.transaction(this._objectStoreName,"readwrite"),a=n.objectStore(this._objectStoreName),[2,new Promise(function(r,o){var i=a.get(s._name);i.onsuccess=function(){var t,e,n=i.result;!n||n.owner===s._id||n.expiresAt<Date.now()?(t={owner:s._id,expiresAt:Date.now()+s._expiry},(e=a.put(t,s._name)).onsuccess=function(){return r(!0)},e.onerror=function(){return o(e.error)}):r(!1)},i.onerror=function(){return o(i.error)}})]}})})},a);function a(t,e,n){this._id=Math.round(1e4*Math.random()).toString(),this._objectStoreName="mutexes",n&&n.objectStoreName&&(this._objectStoreName=n.objectStoreName),this._db=e||this._initDb(this._objectStoreName),this._name=t,this._expiry=n&&n.expiry?n.expiry:r.DEFAULT_EXPIRY,this._spinDelay=n&&n.spinDelay?n.spinDelay:50}r.default=o},function(t,e){t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IncomingCallQueue=void 0;var r,o=n(17),i=(r=n(6))&&r.__esModule?r:{default:r},a=n(3);var s,l,c=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=function(t,a,s,l){return new(s=s||Promise)(function(n,e){function r(t){try{i(l.next(t))}catch(t){e(t)}}function o(t){try{i(l.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(r,o)}i((l=l.apply(t,a||[])).next())})},f=function(n,r){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,i&&(a=2&e[0]?i.return:e[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,e[1])).done)return a;switch(i=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,i=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=r.call(n,s)}catch(t){e=[6,t],i=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},p=(l=o.Model,c(d,l),d.prototype.enqueue=function(t){this._queue.unshift({request:t,arrivedTs:Date.now(),timeoutPid:setTimeout(function(){},this._config.maxAwaitingTime)}),!this._activeEntry&&1<=this._queue.length&&this._activateNextRequest(10)},d.prototype.on=function(t,e){l.prototype.on.call(this,t,e)},d.prototype.find=function(t){if(this._activeEntry&&t(this._activeEntry.request))return this._activeEntry.request;for(var e=0,n=this._queue;e<n.length;e++){var r=n[e];if(t(r.request))return r.request}},d.prototype.remove=function(e){var t;if((null===(t=this._activeEntry)||void 0===t?void 0:t.request)===e)return clearTimeout(this._activeEntry.timeoutPid),this._activeEntry=void 0,e.decline(),void(1<=this._queue.length&&this._activateNextRequest(this._config.betweenCallsTimeout));this._queue=this._queue.filter(function(t){return t.request!==e||(clearTimeout(t.timeoutPid),!1)}),e.decline()},d.prototype._activateNextRequest=function(t){var e=this,n=Date.now();this._activeEntry=this._queue.pop(),this._activeEntry&&(n-this._activeEntry.arrivedTs<=this._config.maxAwaitingTime?(this._activeEntry.request.on("accept",this._accept),this._activeEntry.request.on("decline",this._decline),clearTimeout(this._activeEntry.timeoutPid),this._activeEntry.timeoutPid=setTimeout(function(){e._activeEntry.timeoutPid=setTimeout(function(){return e._activeEntry.request.decline()},e._config.maxRingingTime),e._emitter.emit("request",e._activeEntry.request)},t)):this._decline())},d);function d(t){var e=l.call(this)||this;return e._config=t,e._queue=[],e._accept=function(){return u(e,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return this._activeEntry?(e=this._activeEntry.request.room_id,this.remove(this._activeEntry.request),[4,i.default.delete("room/"+e+"/member/invitation",{data:{reason:a.CallsCancelReason.Accept}})]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e._decline=function(){return u(e,void 0,void 0,function(){var e;return f(this,function(t){switch(t.label){case 0:return this._activeEntry?(e=this._activeEntry.request.room_id,this.remove(this._activeEntry.request),[4,i.default.delete("room/"+e+"/member/invitation",{data:{reason:a.CallsCancelReason.Decline}})]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e}e.IncomingCallQueue=p},function(t,e){function n(){this.listeners={}}function i(t){if("string"!=typeof t)throw"eventName is not a string"}function a(t){if("function"!=typeof t)throw"listener is not a function"}n.prototype.maxListeners=10,n.prototype.on=function(t,e){if(i(t),a(e),this.listeners[t]=this.listeners[t]||[],this.listeners[t].length>this.maxListeners)throw"Exceeded maxListeners - You might have a memory leak";var n,r;return n=this.listeners[t],r=e,-1===n.indexOf(r)&&(this.listeners[t].push(e),this.emit("on",{eventName:t,listener:e})),this},n.prototype.emit=function(t,e){i(t);var n=Array.prototype.slice.call(arguments,1);return function(t,e,n){for(var r=0;r<t.length;r++)e.call(n,t[r])}(this.listeners[t]||[],function(t){t.apply(this,n)},this),this},n.prototype.off=function(t,e){var n,r,o;return i(t),a(e),n=this.listeners[t]||[],r=e,-1!==(o=n.indexOf(r))&&n.splice(o,1),this.emit("off",{eventName:t,listener:e}),this},n.prototype.clearListeners=function(t){return i(t),this.listeners[t]=null,this},t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IncomingCallRequest=void 0;var r,o=n(3),i=(r=n(6))&&r.__esModule?r:{default:r},a=n(17);var s,l,c=(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),u=(l=a.Model,c(f,l),f.prototype.on=function(t,e){l.prototype.on.call(this,t,e)},f.prototype.accept=function(){this._react(o.CallsCancelReason.Accept)},f.prototype.decline=function(){this._react(o.CallsCancelReason.Decline)},f.prototype.startProcessing=function(){"visible"===document.visibilityState?this.notifyReceived():document.addEventListener("visibilitychange",this._visibilityChangeHandler,{once:!0})},f.prototype.notifyReceived=function(){this._settled||this._notificationSent||(this._notificationSent=!0,i.default.put("room/"+this.room_id+"/member/invitation",{status:"received"}))},f.prototype._react=function(t){this._settled||(this._settled=!0,document.removeEventListener("visibilitychange",this._visibilityChangeHandler),this._emitter.emit(t))},f.prototype._visibilityChangeHandler=function(){"visible"===document.visibilityState&&this.notifyReceived()},f);function f(t){var e=l.call(this)||this;return e._settled=!1,e._notificationSent=!1,e.inviter=t.inviter,e.members=t.members,e.room_id=t.room_id,e.room_link=t.room_link,e._visibilityChangeHandler=e._visibilityChangeHandler.bind(e),e}e.IncomingCallRequest=u},function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.AudioPlayer=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t){var i;Object.prototype.hasOwnProperty.call(t,o)&&((i=r?Object.getOwnPropertyDescriptor(t,o):null)&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=t[o])}n.default=t,e&&e.set(t,n);return n}(n(53));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i={autoplay:!0,loop:!1},l=(c.prototype.play=function(){if(!this._destroyed)try{var t=this._audioElement.play();void 0!==t&&t.then(function(){}).catch(function(){})}catch(t){console.error(t)}},c.prototype.destroy=function(){this._destroyed=!0;try{this._audioElement.pause()}catch(t){}document.body.removeChild(this._audioElement)},c.canAutoplay=function(){try{return r.audio().then(function(t){return t.result}).catch(function(t){return!1})}catch(t){}return Promise.resolve(!1)},c);function c(t,e){void 0===e&&(e={}),this._destroyed=!1,this._options=o(o({},i),e),this._audioElement=document.createElement("AUDIO"),this._audioElement.src=t,this._audioElement.controls=!1,this._audioElement.preload="auto",this._audioElement.loop=this._options.loop,document.body.appendChild(this._audioElement),this._options.autoplay&&this.play()}e.AudioPlayer=l},function(t,e,n){"use strict";var r=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),o=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function i(t){return Object.assign({muted:!1,timeout:250,inline:!1},t)}function a(t,e){var o,n=t.muted,i=t.timeout,r=t.inline,a=e(),s=a.element,l=a.source,c=void 0,u=void 0;return!0===(s.muted=n)&&s.setAttribute("muted","muted"),!0===r&&s.setAttribute("playsinline","playsinline"),s.src=l,new Promise(function(r){c=s.play(),o=setTimeout(function(){u(!1,new Error("Timeout "+i+" ms has been reached"))},i),u=function(t,e){var n=1<arguments.length&&void 0!==e?e:null;clearTimeout(o),r({result:t,error:n})},void 0!==c?c.then(function(){return u(!0)}).catch(function(t){return u(!1,t)}):u(!0)})}var s={audio:function(t){return a(t=i(t),function(){return{element:document.createElement("audio"),source:URL.createObjectURL(r)}})},video:function(t){return a(t=i(t),function(){return{element:document.createElement("video"),source:URL.createObjectURL(o)}})}};t.exports=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postMessageP2P=function(t){var e;null!==(e=window.parent)&&void 0!==e&&e.postMessage(JSON.stringify(t),"*")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IncomingCall=void 0;var r=c(n(56)),o=c(n(57)),i=c(n(74)),a=n(79),s=n(81),l=n(3);function c(t){return t&&t.__esModule?t:{default:t}}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},f=(p.prototype.destroy=function(){this._target.removeEventListener("click",this._handleClick),this._target.innerHTML=""},Object.defineProperty(p.prototype,"el",{get:function(){return this._target.firstElementChild},enumerable:!1,configurable:!0}),p.prototype._render=function(){var t=this._getInternalRequest(),e={css:i.default,request:t,urls:{logo:this._props.logoImageUrl},buttons:[{action:"decline"},{action:"accept",url:t.room_link}],messages:{call:(0,r.default)("Вызов"),accept:(0,r.default)("Принять"),decline:(0,r.default)("Отклонить"),members:r.default.plural(t.membersCount,[(0,r.default)("И ещё {count} участников",{count:t.membersCount}),(0,r.default)("И ещё {count} участник",{count:t.membersCount}),(0,r.default)("И ещё {count} участника",{count:t.membersCount})])}};this._target.innerHTML=(0,o.default)(e),this._target.addEventListener("click",this._handleClick)},p.prototype._getInternalRequest=function(){var e=this,t=this._request.members.filter(function(t){return t.type===l.CallsUserType.Anonymous||t.id!==e._request.inviter.id&&t.id!==e._props.activeEmail}).map(function(t){return u(u({},t),{avatar:e._getUserAvatarURL(t)})}),n=t.length;return t.length=Math.min(t.length,5),u(u({},this._request),{inviter:u(u({},this._request.inviter),{avatar:this._getUserAvatarURL(this._request.inviter)}),members:t,membersCount:n})},p);function p(t){var n=this;this._props=t,this._handleClick=function(t){for(var e=t.target;e!==n._target&&!e.hasAttribute("data-action");)if(!(e=e.parentElement))return;switch(e.getAttribute("data-action")){case"accept":window.xray.send("p2p_notify_action",{i:["accept"]}),n._request.accept();break;case"decline":window.xray.send("p2p_notify_action",{i:["decline"]}),n._request.decline()}},this._getUserAvatarURL=function(t){switch(t.type){case l.CallsUserType.Anonymous:return(0,a.anonAvatarUrl)((0,a.getAvatarId)(t.id,n._request.room_id),s.AnonymAvatarSizes.small);case l.CallsUserType.Authorized:default:return(0,a.buildAvatarUrl)(t.id,t.nickname,s.AvatarPixelSizes[s.AvatarSize.Large])}},this._target=this._props.target,this._request=this._props.request,this._render()}e.IncomingCall=f},function(t,e,n){var r,o,s,l;function i18n(t,e,n){return"object"==typeof e&&(n=e,e=null),function(i,t){var a=2===arguments.length&&"object"==typeof t?t:l.call(arguments,1);return a&&a.hasOwnProperty||(a={}),i.replace(s,function(t,e,n){var r,o=!1;return"{"===i[n-1]&&"}"===i[n+t.length]?e:((r=a.hasOwnProperty(e)?a[e]:null)||(r=a.hasOwnProperty("unsafe-"+e)?a["unsafe-"+e]:null,o=!0),null==r?"":o?r:r.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&#34;"))})}(t,n)}(o=window).i18n=(s=/\{([0-9a-zA-Z]+)\}/g,l=Array.prototype.slice,i18n.plural=function(t,e,n){var r,o=n?t+(n&&1!=n?n:""):"";if(null==e)return"";if("string"==typeof e)return o+e;r=t%100<=10||20<=t%100?t%10:0;var i=e.length;return 2==i&&1==r?r=0:3==i&&1<r&&(r=r<5?2:0),o+(e[r]||e[1<r&&r<5?r:0]||e[1<r?1:0])},i18n),void 0===(r=function(){return o.i18n}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r=n(58);t.exports=(r.default||r).template({1:function(t,e,n,r,o,i,a){var s,l=t.lambda,c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t<div class="'+c(l(null!=(s=null!=e?u(e,"css"):e)?u(s,"Participants__Others"):s,e))+'">\n\t\t\t\t\t<span>\n\t\t\t\t\t\t'+c(l(null!=(s=null!=e?u(e,"messages"):e)?u(s,"members"):s,e))+'\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class="'+c(l(null!=(s=null!=e?u(e,"css"):e)?u(s,"Participants__Others__Avatars"):s,e))+'">\n'+(null!=(s=u(n,"each").call(null!=e?e:t.nullContext||{},null!=(s=null!=e?u(e,"request"):e)?u(s,"members"):s,{name:"each",hash:{},fn:t.program(2,o,0,i,a),inverse:t.noop,data:o,loc:{start:{line:53,column:6},end:{line:57,column:15}}}))?s:"")+"\t\t\t\t\t</span>\n\t\t\t\t</div>\n"},2:function(t,e,n,r,o,i,a){var s,l=t.lambda,c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t\t\t\t<div class="'+c(l(null!=(s=null!=a[1]?u(a[1],"css"):a[1])?u(s,"Participant__Avatar"):s,e))+'">\n\t\t\t\t\t\t\t\t<img src="'+c(l(null!=e?u(e,"avatar"):e,e))+'" alt="'+c(l(null!=e?u(e,"nickname"):e,e))+'">\n\t\t\t\t\t\t\t</div>\n'},4:function(t,e,n,r,o,i,a){var s,l=t.lambda,c=t.escapeExpression,u=null!=e?e:t.nullContext||{},f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t<div class="'+c(l(null!=(s=null!=a[1]?f(a[1],"css"):a[1])?f(s,"ButtonWrapper"):s,e))+'" data-action="'+c(l(null!=e?f(e,"action"):e,e))+'">\n'+(null!=(s=f(n,"if").call(u,null!=e?f(e,"url"):e,{name:"if",hash:{},fn:t.program(5,o,0,i,a),inverse:t.noop,data:o,loc:{start:{line:66,column:5},end:{line:68,column:12}}}))?s:"")+'\n\t\t\t\t\t\t<button class="'+c(l(null!=(s=null!=a[1]?f(a[1],"css"):a[1])?f(s,"ButtonWrapper__Button"):s,e))+'">\n\t\t\t\t\t\t\t<span class="'+c(l(null!=(s=null!=a[1]?f(a[1],"css"):a[1])?f(s,"ButtonWrapper__Button__Shade"):s,e))+'">\n\t\t\t\t\t\t\t\t<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M14.0035 9.95778C13.8542 10.5187 13.2759 10.8506 12.7132 10.6994L10.5923 10.1289C10.0296 9.97759 9.69459 9.39947 9.84384 8.83855C9.85515 8.79674 9.86868 8.75622 9.88444 8.71698L10.2071 7.74815C10.2071 7.74815 10.4307 7.1848 9.90292 6.89785C9.23551 6.53323 6.69526 6.52849 6.02865 6.89034C5.50245 7.17642 5.7285 7.73997 5.7285 7.73997L6.05414 8.7102C6.06975 8.7498 6.08303 8.79001 6.09471 8.83128C6.24585 9.39301 5.91311 9.96933 5.35107 10.1193L3.23182 10.6822C2.6702 10.8314 2.09093 10.4969 1.93936 9.93595C1.93936 9.93595 1.56331 8.65153 1.52808 7.30643C1.48505 5.68951 2.80022 4.92875 3.19065 4.6728C4.11083 4.07165 6.15393 3.69368 7.91821 3.68246L8.00202 3.68252C9.76648 3.70002 11.8112 4.08644 12.7321 4.69017C13.1243 4.94717 14.442 5.71287 14.4054 7.32923C14.3752 8.67499 14.0035 9.95778 14.0035 9.95778Z" fill="white"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</button>\n\n'+(null!=(s=f(n,"if").call(u,null!=e?f(e,"url"):e,{name:"if",hash:{},fn:t.program(7,o,0,i,a),inverse:t.noop,data:o,loc:{start:{line:78,column:5},end:{line:80,column:12}}}))?s:"")+'\n\t\t\t\t\t<div class="'+c(l(null!=(s=null!=a[1]?f(a[1],"css"):a[1])?f(s,"ButtonWrapper__Text"):s,e))+'">\n\t\t\t\t\t\t'+c(f(n,"lookup").call(u,null!=a[1]?f(a[1],"messages"):a[1],null!=e?f(e,"action"):e,{name:"lookup",hash:{},data:o,loc:{start:{line:83,column:6},end:{line:83,column:40}}}))+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n"},5:function(t,e,n,r,o){var i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\t\t\t\t\t\t<a href="'+t.escapeExpression(t.lambda(null!=e?i(e,"url"):e,e))+'" target="_blank">\n'},7:function(t,e,n,r,o){return"\t\t\t\t\t\t</a>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o,i,a){var s,l=t.lambda,c=t.escapeExpression,u=null!=e?e:t.nullContext||{},f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'\n<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"IncomingCall"):s,e))+" "+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Layer"):s,e))+'">\n\t<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Layer"):s,e))+" "+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Layer_cloud"):s,e))+'">\n\t\t<svg width="227" height="168" viewBox="0 0 227 168" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<g filter="url(#filter0_f)">\n\t\t\t\t<path d="M191.357 112.604C191.357 138.802 138.802 130.872 112.604 130.872C86.4058 130.872 36 138.802 36 112.604C36 86.4058 86.4058 36 112.604 36C138.802 36 191.357 86.4058 191.357 112.604Z" fill="#2B2B2B"/>\n\t\t\t</g>\n\t\t\t<defs>\n\t\t\t\t<filter id="filter0_f" x="0.998569" y="0.998569" width="225.36" height="166.003" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n\t\t\t\t\t<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n\t\t\t\t\t<feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>\n\t\t\t\t\t<feGaussianBlur stdDeviation="17.5007" result="effect1_foregroundBlur"/>\n\t\t\t\t</filter>\n\t\t\t</defs>\n\t\t</svg>\n\t</div>\n\n\t<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Layer"):s,e))+" "+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Layer_content"):s,e))+'">\n\t\t<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"TitleBar"):s,e))+'">\n\t\t\t<span class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Cross"):s,e))+'" data-action="decline">\n\t\t\t\t<svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M2.58625 3.9995L0.29325 1.7065C-0.09775 1.3165 -0.09775 0.6825 0.29325 0.2925C0.68325 -0.0975 1.31725 -0.0975 1.70725 0.2925L4.00025 2.5855L6.29325 0.2925C6.68325 -0.0975 7.31725 -0.0975 7.70725 0.2925C8.09725 0.6825 8.09725 1.3165 7.70725 1.7065L5.41425 3.9995L7.70725 6.2925C8.09725 6.6825 8.09725 7.3165 7.70725 7.7065C7.31725 8.0965 6.68325 8.0965 6.29325 7.7065L4.00025 5.4135L1.70725 7.7065C1.31725 8.0965 0.68325 8.0965 0.29325 7.7065C-0.09775 7.3165 -0.09775 6.6825 0.29325 6.2925L2.58625 3.9995Z" fill="white"/>\n\t\t\t\t</svg>\n\t\t\t</span>\n\t\t</div>\n\n\t\t<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Logo"):s,e))+'">\n\t\t\t<img src="'+c(l(null!=(s=null!=e?f(e,"urls"):e)?f(s,"logo"):s,e))+'" alt="Logo">\n\t\t</div>\n\n\t\t<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Title"):s,e))+'">\n\t\t\t'+c(l(null!=(s=null!=e?f(e,"messages"):e)?f(s,"call"):s,e))+'\n\t\t</div>\n\n\t\t<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Participants"):s,e))+'">\n\t\t\t<img\n\t\t\t\t\tclass="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Avatar_owner"):s,e))+'"\n\t\t\t\t\tsrc="'+c(l(null!=(s=null!=(s=null!=e?f(e,"request"):e)?f(s,"inviter"):s)?f(s,"avatar"):s,e))+'"\n\t\t\t\t\talt="'+c(l(null!=(s=null!=(s=null!=e?f(e,"request"):e)?f(s,"inviter"):s)?f(s,"nickname"):s,e))+'"\n\t\t\t>\n\n\t\t\t<span class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Owner"):s,e))+'">\n\t\t\t\t'+c(l(null!=(s=null!=(s=null!=e?f(e,"request"):e)?f(s,"inviter"):s)?f(s,"nickname"):s,e))+"\n\t\t\t</span>\n\n"+(null!=(s=f(n,"if").call(u,null!=(s=null!=e?f(e,"request"):e)?f(s,"members"):s,{name:"if",hash:{},fn:t.program(1,o,0,i,a),inverse:t.noop,data:o,loc:{start:{line:46,column:3},end:{line:60,column:10}}}))?s:"")+'\t\t</div>\n\n\t\t<div class="'+c(l(null!=(s=null!=e?f(e,"css"):e)?f(s,"Buttons"):s,e))+'">\n'+(null!=(s=f(n,"each").call(u,null!=e?f(e,"buttons"):e,{name:"each",hash:{},fn:t.program(4,o,0,i,a),inverse:t.noop,data:o,loc:{start:{line:64,column:3},end:{line:86,column:12}}}))?s:"")+"\t\t</div>\n\t</div>\n\n</div>\n"},useData:!0,useDepths:!0})},function(t,e,n){t.exports=n(59).default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var i=o(n(18)),a=r(n(70)),s=r(n(2)),l=o(n(1)),c=o(n(71)),u=r(n(73));function f(){var e=new i.HandlebarsEnvironment;return l.extend(e,i),e.SafeString=a.default,e.Exception=s.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var p=f();p.create=f,u.default(p),p.default=p,e.default=p,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var a=n(1);e.default=function(i){i.registerHelper("blockHelperMissing",function(t,e){var n,r=e.inverse,o=e.fn;return!0===t?o(this):!1===t||null==t?r(this):a.isArray(t)?0<t.length?(e.ids&&(e.ids=[e.name]),i.helpers.each(t,e)):r(this):(e.data&&e.ids&&((n=a.createFrame(e.data)).contextPath=a.appendContextPath(e.data.contextPath,e.name),e={data:n}),o(t,e))})},t.exports=e.default},function(n,r,o){"use strict";(function(h){r.__esModule=!0;var t,m=o(1),e=o(2),_=(t=e)&&t.__esModule?t:{default:t};r.default=function(t){t.registerHelper("each",function(r,t){if(!t)throw new _.default("Must pass iterator to #each");var e,o=t.fn,n=t.inverse,i=0,a="",s=void 0,l=void 0;function c(t,e,n){s&&(s.key=t,s.index=e,s.first=0===e,s.last=!!n,l&&(s.contextPath=l+t)),a+=o(r[t],{data:s,blockParams:m.blockParams([r[t],t],[l+t,null])})}if(t.data&&t.ids&&(l=m.appendContextPath(t.data.contextPath,t.ids[0])+"."),m.isFunction(r)&&(r=r.call(this)),t.data&&(s=m.createFrame(t.data)),r&&"object"==typeof r)if(m.isArray(r))for(var u=r.length;i<u;i++)i in r&&c(i,i,i===r.length-1);else if(h.Symbol&&r[h.Symbol.iterator]){for(var f=[],p=r[h.Symbol.iterator](),d=p.next();!d.done;d=p.next())f.push(d.value);for(u=(r=f).length;i<u;i++)c(i,i,i===r.length-1)}else e=void 0,Object.keys(r).forEach(function(t){void 0!==e&&c(e,i-1),e=t,i++}),void 0!==e&&c(e,i-1,!0);return 0===i&&(a=n(this)),a})},n.exports=r.default}).call(this,o(20))},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1),i=n(2),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(n){n.registerHelper("if",function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)}),n.registerHelper("unless",function(t,e){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return n.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(o){o.registerHelper("log",function(){for(var t=[void 0],e=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)t.push(arguments[n]);var r=1;null!=e.hash.level?r=e.hash.level:e.data&&null!=e.data.level&&(r=e.data.level),t[0]=r,o.log.apply(o,t)})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e,n){return t?n.lookupProperty(t,e):t})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r,o=n(1),i=n(2),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("with",function(t,e){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:o.blockParams([t],[r&&r.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){i.default(t)};var r,o=n(68),i=(r=o)&&r.__esModule?r:{default:r}},function(t,e,n){"use strict";e.__esModule=!0;var s=n(1);e.default=function(t){t.registerDecorator("inline",function(o,i,a,t){var e=o;return i.partials||(i.partials={},e=function(t,e){var n=a.partials;a.partials=s.extend({},n,i.partials);var r=o(t,e);return a.partials=n,r}),i.partials[t.args[0]]=t.fn,e})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(e))};var r=n(1)},function(t,e,n){"use strict";function r(t){this.string=t}e.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=p.COMPILER_REVISION;if(e>=p.LAST_COMPATIBLE_COMPILER_REVISION&&e<=p.COMPILER_REVISION)return;{if(e<p.LAST_COMPATIBLE_COMPILER_REVISION){var r=p.REVISION_CHANGES[n],o=p.REVISION_CHANGES[e];throw new f.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new f.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(l,c){if(!c)throw new f.default("No environment passed to template");if(!l||!l.main)throw new f.default("Unknown template object: "+typeof l);l.main.decorator=l.main_d,c.VM.checkRevision(l.compiler);var r=l.compiler&&7===l.compiler[0];var a={strict:function(t,e,n){if(!(t&&e in t))throw new f.default('"'+e+'" not defined in '+t,{loc:n});return t[e]},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||m.resultIsAllowed(n,a.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++){if(null!=(t[r]&&a.lookupProperty(t[r],e)))return t[r][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:u.escapeExpression,invokePartial:function(t,e,n){n.hash&&(e=u.extend({},e,n.hash),n.ids&&(n.ids[0]=!0)),t=c.VM.resolvePartial.call(this,t,e,n);var r=u.extend({},n,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),o=c.VM.invokePartial.call(this,t,e,r);if(null==o&&c.compile&&(n.partials[n.name]=c.compile(t,l.compilerOptions,c),o=n.partials[n.name](e,r)),null==o)throw new f.default("The partial "+n.name+" could not be compiled when running in runtime-only mode");if(n.indent){for(var i=o.split("\n"),a=0,s=i.length;a<s&&(i[a]||a+1!==s);a++)i[a]=n.indent+i[a];o=i.join("\n")}return o},fn:function(t){var e=l[t];return e.decorator=l[t+"_d"],e},programs:[],program:function(t,e,n,r,o){var i=this.programs[t],a=this.fn(t);return i=e||o||r||n?_(this,t,a,e,n,r,o):i||(this.programs[t]=_(this,t,a))},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=u.extend({},e,t)),n},nullContext:Object.seal({}),noop:c.VM.noop,compilerInfo:l.compiler};function s(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.data;s._setup(e),!e.partial&&l.useData&&(n=function(t,e){e&&"root"in e||((e=e?p.createFrame(e):{}).root=t);return e}(t,n));var r=void 0,o=l.useBlockParams?[]:void 0;function i(t){return""+l.main(a,t,a.helpers,a.partials,n,o,r)}return l.useDepths&&(r=e.depths?t!=e.depths[0]?[t].concat(e.depths):e.depths:[t]),(i=v(l.main,i,a,e.depths||[],n,o))(t,e)}return s.isTop=!0,s._setup=function(t){var e,n,o,i;t.partial?(a.protoAccessControl=t.protoAccessControl,a.helpers=t.helpers,a.partials=t.partials,a.decorators=t.decorators,a.hooks=t.hooks):(e=u.extend({},c.helpers,t.helpers),o=e,i=a,Object.keys(o).forEach(function(t){var e,n,r=o[t];o[t]=(e=r,n=i.lookupProperty,h.wrapHelper(e,function(t){return u.extend({lookupProperty:n},t)}))}),a.helpers=e,l.usePartial&&(a.partials=a.mergeIfNeeded(t.partials,c.partials)),(l.usePartial||l.useDecorators)&&(a.decorators=u.extend({},c.decorators,t.decorators)),a.hooks={},a.protoAccessControl=m.createProtoAccessControl(t),n=t.allowCallsToHelperMissing||r,d.moveHelperToHooks(a,"helperMissing",n),d.moveHelperToHooks(a,"blockHelperMissing",n))},s._child=function(t,e,n,r){if(l.useBlockParams&&!n)throw new f.default("must pass block params");if(l.useDepths&&!r)throw new f.default("must pass parent depths");return _(a,t,l[t],e,0,n,r)},s},e.wrapProgram=_,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var o=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;n.fn&&n.fn!==a&&function(){n.data=p.createFrame(n.data);var r=n.fn;i=n.data["partial-block"]=function(t,e){var n=arguments.length<=1||void 0===e?{}:e;return n.data=p.createFrame(n.data),n.data["partial-block"]=o,r(t,n)},r.partials&&(n.partials=u.extend({},n.partials,r.partials))}();void 0===t&&i&&(t=i);{if(void 0===t)throw new f.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}},e.noop=a;var r,u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),o=n(2),f=(r=o)&&r.__esModule?r:{default:r},p=n(18),d=n(19),h=n(72),m=n(22);function _(r,t,o,i,e,a,s){function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=s;return!s||t==s[0]||t===r.nullContext&&null===s[0]||(n=[t].concat(s)),o(r,t,r.helpers,r.partials,e.data||i,a&&[e.blockParams].concat(a),n)}return(n=v(o,n,r,s,i,a)).program=t,n.depth=s?s.length:0,n.blockParams=e||0,n}function a(){return""}function v(t,e,n,r,o,i){var a;return t.decorator&&(a={},e=t.decorator(e,a,n,r&&r[0],o,i,r),u.extend(e,a)),e}},function(t,e,n){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"==typeof t?function(){return arguments[arguments.length-1]=e(arguments[arguments.length-1]),t.apply(this,arguments)}:t}},function(t,e,n){"use strict";(function(r){e.__esModule=!0,e.default=function(t){var e=void 0!==r?r:window,n=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=n),t}},t.exports=e.default}).call(this,n(20))},function(t,e,n){var r=n(75);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(77)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(e=t.exports=n(76)(!1)).push([t.i,'html,body{background-color:#303030;padding:0;margin:0;overflow:hidden;font-size:15px;font-family:MailSans, Helvetica, Arial, sans-serif;line-height:20px;font-weight:400}#root{display:inline-block}.calls_IncomingCall__IncomingCall--2Y446{width:260px;padding:20px 20px 32px 20px;background-color:#303030;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;z-index:2}.calls_IncomingCall__Layer--2Nr8x{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.calls_IncomingCall__Layer_cloud--kD9T6{position:absolute;margin-top:65px;z-index:1}.calls_IncomingCall__Layer_content--3zlnO{top:20px;z-index:2;width:100%}.calls_IncomingCall__TitleBar--3PAME{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:end;justify-content:flex-end;margin-bottom:4px;margin-top:4px;width:100%;height:8px}.calls_IncomingCall__Cross--1tFYW{fill:white;margin-top:-8px;cursor:pointer}.calls_IncomingCall__Logo--1d5Uv{height:18px;margin-bottom:12px;text-align:center}.calls_IncomingCall__Logo--1d5Uv img{height:18px}.calls_IncomingCall__Title--20VJg{width:144px;height:16px;font-style:normal;font-weight:500;font-size:11px;-webkit-font-feature-settings:"c2sc";font-feature-settings:"c2sc";font-variant:small-caps;line-height:16px;text-align:center;text-transform:uppercase;color:#9C9C9C;margin-bottom:16px}.calls_IncomingCall__Participants--3iz-4{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start;margin-bottom:16px}.calls_IncomingCall__Participants__Others--3SZWN{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;font-style:normal;font-weight:normal;font-size:13px;line-height:20px;color:#9C9C9C}.calls_IncomingCall__Participants__Others__Avatars--2dCcz{display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin-left:4px;height:24px}.calls_IncomingCall__Participant__Avatar--313JT{width:9px;height:24px;overflow:visible;display:block}.calls_IncomingCall__Participant__Avatar--313JT img{width:24px;height:24px;border:2px solid #303030;border-radius:24px}.calls_IncomingCall__Avatar_owner--1rwHQ{width:90px;height:90px;border-radius:100%}.calls_IncomingCall__Owner--95hEk{font-style:normal;font-weight:500;font-size:15px;line-height:20px;color:#FFFFFF;margin-top:16px;margin-bottom:4px;text-align:center}.calls_IncomingCall__Buttons--1CTFW{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.calls_IncomingCall__Buttons--1CTFW>*{margin-left:40px}.calls_IncomingCall__Buttons--1CTFW>*:first-child{margin-left:0}.calls_IncomingCall__ButtonWrapper--2WRCW{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.calls_IncomingCall__ButtonWrapper__Button--11Xbk{text-transform:none;-webkit-appearance:none;-moz-appearance:none;margin:0;padding:0;font-family:inherit;border:none;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:40px;height:40px;border-radius:40px;fill:white;cursor:pointer;overflow:hidden;outline:none !important}.calls_IncomingCall__ButtonWrapper__Button__Shade--1SF7a{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:100%;height:100%}.calls_IncomingCall__ButtonWrapper__Button__Shade--1SF7a:hover{background-color:rgba(255,255,255,0.08)}.calls_IncomingCall__ButtonWrapper__Button__Shade--1SF7a:active{background-color:rgba(255,255,255,0.12)}.calls_IncomingCall__ButtonWrapper__Text--3ptW0{margin-top:8px;font-style:normal;font-weight:normal;font-size:11px;line-height:16px;color:white}.calls_IncomingCall__ButtonWrapper--2WRCW[data-action="decline"] .calls_IncomingCall__ButtonWrapper__Button--11Xbk{background-color:#FF4550}.calls_IncomingCall__ButtonWrapper--2WRCW[data-action="accept"] .calls_IncomingCall__ButtonWrapper__Button--11Xbk{background-color:#38E0A1}.calls_IncomingCall__ButtonWrapper--2WRCW[data-action="accept"] .calls_IncomingCall__ButtonWrapper__Button--11Xbk svg{-webkit-transform:rotate(-135deg);-ms-transform:rotate(-135deg);transform:rotate(-135deg)}\n',""]),e.locals={IncomingCall:"calls_IncomingCall__IncomingCall--2Y446",incomingCall:"calls_IncomingCall__IncomingCall--2Y446",Layer:"calls_IncomingCall__Layer--2Nr8x",layer:"calls_IncomingCall__Layer--2Nr8x",Layer_cloud:"calls_IncomingCall__Layer_cloud--kD9T6",layerCloud:"calls_IncomingCall__Layer_cloud--kD9T6",Layer_content:"calls_IncomingCall__Layer_content--3zlnO",layerContent:"calls_IncomingCall__Layer_content--3zlnO",TitleBar:"calls_IncomingCall__TitleBar--3PAME",titleBar:"calls_IncomingCall__TitleBar--3PAME",Cross:"calls_IncomingCall__Cross--1tFYW",cross:"calls_IncomingCall__Cross--1tFYW",Logo:"calls_IncomingCall__Logo--1d5Uv",logo:"calls_IncomingCall__Logo--1d5Uv",Title:"calls_IncomingCall__Title--20VJg",title:"calls_IncomingCall__Title--20VJg",Participants:"calls_IncomingCall__Participants--3iz-4",participants:"calls_IncomingCall__Participants--3iz-4",Participants__Others:"calls_IncomingCall__Participants__Others--3SZWN",participantsOthers:"calls_IncomingCall__Participants__Others--3SZWN",Participants__Others__Avatars:"calls_IncomingCall__Participants__Others__Avatars--2dCcz",participantsOthersAvatars:"calls_IncomingCall__Participants__Others__Avatars--2dCcz",Participant__Avatar:"calls_IncomingCall__Participant__Avatar--313JT",participantAvatar:"calls_IncomingCall__Participant__Avatar--313JT",Avatar_owner:"calls_IncomingCall__Avatar_owner--1rwHQ",avatarOwner:"calls_IncomingCall__Avatar_owner--1rwHQ",Owner:"calls_IncomingCall__Owner--95hEk",owner:"calls_IncomingCall__Owner--95hEk",Buttons:"calls_IncomingCall__Buttons--1CTFW",buttons:"calls_IncomingCall__Buttons--1CTFW",ButtonWrapper:"calls_IncomingCall__ButtonWrapper--2WRCW",buttonWrapper:"calls_IncomingCall__ButtonWrapper--2WRCW",ButtonWrapper__Button:"calls_IncomingCall__ButtonWrapper__Button--11Xbk",buttonWrapperButton:"calls_IncomingCall__ButtonWrapper__Button--11Xbk",ButtonWrapper__Button__Shade:"calls_IncomingCall__ButtonWrapper__Button__Shade--1SF7a",buttonWrapperButtonShade:"calls_IncomingCall__ButtonWrapper__Button__Shade--1SF7a",ButtonWrapper__Text:"calls_IncomingCall__ButtonWrapper__Text--3ptW0",buttonWrapperText:"calls_IncomingCall__ButtonWrapper__Text--3ptW0"}},function(t,e,n){"use strict";t.exports=function(n){var a=[];return a.toString=function(){return this.map(function(t){var e=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},a.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(n[o]=!0)}for(r=0;r<t.length;r++){var i=t[r];null!=i[0]&&n[i[0]]||(e&&!i[2]?i[2]=e:e&&(i[2]="("+i[2]+") and ("+e+")"),a.push(i))}},a}},function(t,e,r){var n,o,i,l={},c=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=(i={},function(t,e){if("function"==typeof t)return t();if(void 0===i[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}i[t]=n}return i[t]}),u=null,f=0,s=[],p=r(78);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=l[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(g(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(g(r.parts[i],e));l[r.id]={id:r.id,refs:1,parts:a}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function m(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=s[s.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),s.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertAt.before,n);n.insertBefore(e,o)}}function _(t){var e;null!==t.parentNode&&(t.parentNode.removeChild(t),0<=(e=s.indexOf(t))&&s.splice(e,1))}function v(t){var e,n=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0!==t.attrs.nonce||(e=function(){0;return r.nc}())&&(t.attrs.nonce=e),y(n,t.attrs),m(t,n),n}function y(e,n){Object.keys(n).forEach(function(t){e.setAttribute(t,n[t])})}function g(e,t){var n,r,o,i,a,s,l;if(t.transform&&e.css){if(!(n="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=n}return a=t.singleton?(r=f++,o=u=u||v(t),i=x.bind(null,o,r,!1),x.bind(null,o,r,!0)):e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(s=t,l=document.createElement("link"),void 0===s.attrs.type&&(s.attrs.type="text/css"),s.attrs.rel="stylesheet",y(l,s.attrs),m(s,l),i=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=p(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,o=l,t),function(){_(o),o.href&&URL.revokeObjectURL(o.href)}):(o=v(t),i=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,o),function(){_(o)}),i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}t.exports=function(t,a){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(a=a||{}).attrs="object"==typeof a.attrs?a.attrs:{},a.singleton||"boolean"==typeof a.singleton||(a.singleton=c()),a.insertInto||(a.insertInto="head"),a.insertAt||(a.insertAt="bottom");var s=h(t,a);return d(s,a),function(t){for(var e=[],n=0;n<s.length;n++){var r=s[n];(o=l[r.id]).refs--,e.push(o)}t&&d(h(t,a),a);for(var o,n=0;n<e.length;n++){if(0===(o=e[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete l[o.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,n,r){var o,i,a=n?"":r.css;t.styleSheet?t.styleSheet.cssText=w(e,a):(o=document.createTextNode(a),(i=t.childNodes)[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o))}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var o=e.protocol+"//"+e.host,i=o+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var n,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(n=0===r.indexOf("//")?r:0===r.indexOf("/")?o+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(n)+")")})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAvatarId=function(t,e){return String(function(t){for(var e=t.length,n=5381,r=0;r<e;r++)n=33*n^t.charCodeAt(r);return n>>>0}(t+e)%r)},e.anonAvatarUrl=function(t,e){return"https://img.imgsmail.ru/static.promo/calls/anonym/"+t+"@"+e+".png"},e.buildAvatarUrl=e.AVATAR_URL=void 0;var a=n(80),s="//filin.mail.ru/pic";e.AVATAR_URL=s;var l=""+(Date.now()+Math.random());e.buildAvatarUrl=function(t,e,n){var r=void 0!==t&&t.length,o=void 0!==e&&e.length,i={width:n,height:n,_:l};return r&&(i.email=t),o&&(i.name=e),s+"?"+(0,a.queryString)(i)};var r=16},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.queryString=function(e){var n=new URLSearchParams;return Object.keys(e).forEach(function(t){return n.append(t,e[t])}),n.toString()}},function(t,e,n){"use strict";var r,o,i,a;Object.defineProperty(e,"__esModule",{value:!0}),e.AnonymAvatarSizes=e.AvatarPixelSizes=e.AvatarSize=void 0,e.AvatarSize=i,(a=i||(e.AvatarSize=i={})).Small="small",a.Medium="medium",a.Large="large",a.Enormous="enormous";var s=((r={})[i.Small]=32,r[i.Medium]=45,r[i.Large]=90,r[i.Enormous]=180,r);e.AvatarPixelSizes=s;var l=((o={})[i.Small]="2x",o[i.Medium]="2x",o[i.Large]="4x",o[i.Enormous]="4x",o);e.AnonymAvatarSizes=l}],o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=23).default;function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var r,i});
//# sourceMappingURL=p2p.bundle.js.map